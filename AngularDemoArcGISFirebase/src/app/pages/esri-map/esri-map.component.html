<!-- Here's the DIV that we inject the map into -->
<div fxLayout="row" class="whole-page" style="display: contents !important;">
  <div>
    <div fxFlex="20%" fxLayout="column">
      <mat-list>
        <mat-list-item>
          <div style="width:100%" class="label">Welcome {{getUsername()}}</div>
          
        </mat-list-item>
  
        <mat-divider></mat-divider>
        <!-- <mat-list-item>
          <button mat-button mat-button color="primary" class="full-w" (click)="connectFirebase()">Connect</button>
        </mat-list-item> -->
        <mat-divider></mat-divider>
        <mat-list-item>
          <!--                <ListPicker [items]="pharmacies" selectedIndex="0" (selectedIndexChange)="onSelectedIndexChanged($event)"></ListPicker>-->
          <button mat-button mat-button color="primary" class="full-w" (click)="set_addCard(true)">Add card</button>
          <button mat-button color="primary" class="full-w" (click)="toggleCards()">Show added cards</button>
        </mat-list-item>
      </mat-list>
      
      <!-- <button mat-button color="primary" class="full-w" (click)="toggleCards()">toggle</button> -->
      <div *ngIf="showCards">
        <!--        <mat-list>-->
        <!--          <mat-list-item (click)="selectCard()">Catena</mat-list-item>-->
        <!--          <mat-list-item>Sensiblu</mat-list-item>-->
        <!--          <mat-list-item>HelpNet</mat-list-item>-->
        <!--        </mat-list>-->
        <!-- <button color="primary" class="full-w mat-raised-button special-button" (click)="filterCatena()">Catena</button>
        <button color="primary" class="full-w mat-raised-button special-button">HelpNet</button>
        <button color="primary" class="full-w mat-raised-button special-button">Sensiblu</button> -->
        <div *ngFor="let pharmacy of getPharmacies()" style="display: flex; margin-left: 2px; width: 100%; justify-content: center">
          <button [style.background-color] = "getSelectedName(pharmacy) ? '#b465e6' : '#b02f28'" style="width: 70%; margin-top: 5%;" class="mat-raised-button sign_buttons sign-buttons-submit" (click)="setPharmacy2(pharmacy)">
            {{pharmacy}}
          </button>
          
        </div>
        <!-- <button style="justify-content: center" class="mat-raised-button sign_buttons full-w sign-buttons-submit" (click)="set_showCards(false)">Back</button> -->
      </div>

      <div *ngIf="addCard">
        <mat-form-field style="width: 260px; justify-content: center; display: contents" appearance="fill">
          <mat-label>Choose a pharmacy</mat-label>
          <mat-select [formControl]="pharmaciesControl" required>
            <mat-option>--</mat-option>
            <mat-option *ngFor="let pharmacy of pharmacies" [value]="pharmacy">
              <div (click)="setPharmacy(pharmacy)"> 
                {{pharmacy}}

              </div>
            </mat-option>
          </mat-select>
          <mat-error *ngIf="pharmaciesControl.hasError('required')">Please choose a pharmacy</mat-error>
        </mat-form-field>
        <div style="display: flex; margin-left: 2px; width: 100%; justify-content: center">
          <button class="mat-raised-button sign_buttons sign-buttons-submit" (click)="set_addCard(false)">Back</button>
          <button class="mat-raised-button sign_buttons sign-buttons-submit" (click)="addNewCard()">Submit</button>
        </div>
      </div>
      <div style="display:flex; flex-direction:column;align-items: center;">
        <!-- <button style="width: 70%; margin-top: 5%;" class="emergency-button mat-raised-button sign_buttons sign-buttons-submit" (click)="findClosestFacility()">Emergency</button> -->
        <button style="width: 70%; margin-top: 5%;"class="emergency-button mat-raised-button sign_buttons sign-buttons-submit" (click)="signOut()">Sign Out</button>
      </div>
    </div>
    <div fxFlex="80%">
      <div style="height:800px" #mapViewNode></div>
    </div>
  </div>
  <span style="font-size: 30px">Powered By: </span>
  <div>
    <img style="width: 10%; margin-top: 3%" src="assets/imgs/Firebase_Logo.png">
    <img style="width: 10%; margin-top: 3%" src="assets/imgs/AngularShieldLogo.png">
    <img style="width: 10%; margin-top: 3%" src="assets/imgs/arcgis.png">
  </div>

</div>


